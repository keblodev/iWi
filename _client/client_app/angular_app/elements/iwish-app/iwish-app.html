<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/core-drawer-panel/core-drawer-panel.html">
<link rel="import" href="../../bower_components/core-animated-pages/core-animated-pages.html">
<link rel="import" href="../../bower_components/core-animated-pages/transitions/slide-up.html">
<link rel="import" href="../../bower_components/core-animated-pages/transitions/slide-down.html">
<link rel="import" href="../../bower_components/core-animated-pages/transitions/scale-up.html">
<link rel="import" href="../../bower_components/core-animated-pages/transitions/tile-cascade.html">
<link rel="import" href="../../bower_components/core-animated-pages/transitions/hero-transition.html">
<link rel="import" href="../../bower_components/core-media-query/core-media-query.html">

<link rel="import" href="../iwish-login-form/iwish-login-form.html">
<link rel="import" href="../iwish-dialog/iwish-dialog.html">

<polymer-element name="iwish-app" attributes="">
  <template>
    <link rel="stylesheet" href="iwish-app.css">

    <section>
          <div on-tap="{{toggleDialog}}">
            <button>dialog</button>
          </div>
      <iwish-dialog 
        showDialog="{{showDialog}}" 
        layout 
        vertical 
        center 
        center-justified 
        slide-down >
      </iwish-dialog>
    </section>
    <core-animated-pages selected="{{selected}}" transitions="cross-fade cross-fade-delayed scale-up slide-up slide-up-offscreen slide-down tile-cascade hero-transition">
      <section>
        <iwish-login-form layout vertical center center-justified slide-down response="{{out}}"></iwish-login-form>
      </section>
      <section>
        <iwish-login-form layout vertical center center-justified slide-down></iwish-login-form>
      </section>
    </core-animated-pages>
    <paper-button raised on-click="{{stuff}}">Next view in app</paper-button>
  </template>
  <script>
    Polymer('iwish-app', {
      selected: 1,

      showDialog: false,

      out: null,
      up : true,
      max : 1,

      toggleDialog: function () {
        this.showDialog = !this.showDialog;
      },

      stuff: function() {
        console.log('OK = ' + this.out);
        if (this.up && this.selected === this.max || !this.up && this.selected === 0) {
          this.up = !this.up;
        }
        if (this.up) {
          this.selected += 1;
        } else {
          this.selected -= 1;
        }
      },
    });
  </script>
</polymer-element>